angular.module("ngComboBox",[]).directive("comboBox",function(){return{restrict:"E",scope:{options:"=",comboModel:"=",otherLabel:"@?",label:"@?"},template:'<select ng-model="selected" ng-change="optionChanged(selected)">    <option value="">{{label}}</option>    <option ng-repeat="option in options">{{option}}</option>    <option value="other" ng-bind="otherLabel"></option></select><br /><input type="text" ng-model="other" ng-change="optionChanged(selected)" ng-show="selected === \'other\'" />',compile:function(a,b){b.otherLabel||(b.otherLabel="Other"),b.label||(b.label="")},controller:"comboBoxController"}}).controller("comboBoxController",["$scope","$element","$timeout",function(a,b,c){function d(b){-1!==a.options.indexOf(b)?a.selected=b:(a.selected="other",a.other=b)}function e(d){"other"!==d?(a.other="",a.comboModel=d):(a.comboModel=a.other,c(function(){b.find("input")[0].focus()}))}a.optionChanged=e,a.comboModel&&d(a.comboModel)}]);