function comboBoxController(a,b,c){function d(b){var c=null===b;c?(a.selected="",a.other=""):f(b)?a.selected=b:(a.selected="other",a.other=b)}function e(d){var e=""===d;e?(a.comboModel=null,a.other=""):f(d)?(a.other="",a.comboModel=d):(a.comboModel=a.other,c(function(){b.find("input")[0].focus()}))}function f(b){return-1!==a.options.indexOf(b)}a.setModelFromInput=e,a.comboModel&&d(a.comboModel),a.$watch("comboModel",function(a){var c=document.activeElement!=b.find("input")[0];c&&d(a)})}angular.module("ngComboBox.controller",[]).controller("comboBoxController",["$scope","$element","$timeout",comboBoxController]),angular.module("ngComboBox.directive",[]).directive("comboBox",function(){return{restrict:"E",scope:{options:"=",comboModel:"=",otherLabel:"@?",label:"@?",inputClass:"=",selectClass:"="},templateUrl:"combo-box.html",compile:function(a,b){b.otherLabel||(b.otherLabel="Other"),b.label||(b.label="")},controller:"comboBoxController"}}),angular.module("ngComboBox",["ngComboBox.directive","ngComboBox.controller","templates-main"]),angular.module("templates-main",["combo-box.html"]),angular.module("combo-box.html",[]).run(["$templateCache",function(a){a.put("combo-box.html",'<select ng-model="selected" ng-class="selectClass" ng-change="setModelFromInput(selected)">\n    <option value="">{{label}}</option>\n    <option ng-repeat="option in options">{{option}}</option>\n    <option value="other" ng-bind="otherLabel"></option>\n</select>\n<br />\n<input type="text" ng-model="other" ng-class="inputClass" ng-change="setModelFromInput(selected)" ng-show="selected === \'other\'" />\n')}]);