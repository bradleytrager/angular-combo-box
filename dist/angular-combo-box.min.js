function comboBoxController(a,b,c,d){function e(b){a.isOtherSelected=g(b),a.selected=f(b)?{value:""}:j(b)}function f(a){var b=void 0===a||null===a||""===a.value;return b}function g(a){return!f(a)&&"string"==typeof a.value&&"other"===a.value.toLowerCase()}function h(d){a.isOtherSelected=g(d),f(d)?a.comboModel=i(null,null):a.isOtherSelected?(i("other",a.otherText),c(function(){b.find("input")[0].focus()})):i(d.value,d.text)}function i(b,c){a.comboModel.value=b,a.comboModel.text=c}function j(b){var c=d("filter")(a.options,{value:b.value},!0);return c.length>0?c[0]:null}a.setModelFromInput=h,a.isOtherSelected=!1,a.otherText=null,a.comboModel&&e(a.comboModel),a.$watch("comboModel",function(a){var c=document.activeElement!=b.find("input")[0];c&&e(a)})}angular.module("ngComboBox.controller",[]).controller("comboBoxController",["$scope","$element","$timeout","$filter",comboBoxController]),angular.module("ngComboBox.directive",[]).directive("comboBox",function(){return{restrict:"E",scope:{options:"=",comboModel:"=",label:"@?",inputClass:"=",selectClass:"="},templateUrl:"combo-box.html",compile:function(a,b){b.otherLabel||(b.otherLabel="Other"),b.label||(b.label="")},controller:"comboBoxController"}}),angular.module("ngComboBox",["ngComboBox.directive","ngComboBox.controller","templates-main"]),angular.module("templates-main",["combo-box.html"]),angular.module("combo-box.html",[]).run(["$templateCache",function(a){a.put("combo-box.html",'<select ng-model="selected" ng-class="selectClass" ng-change="setModelFromInput(selected)" ng-options="option.text for option in options" >\n    <option value="">{{label}}</option>\n</select>\n<br />\n<input type="text" placeholder="Other" ng-model="otherText" ng-class="inputClass" ng-change="setModelFromInput(selected)" ng-show="isOtherSelected" />\n')}]);