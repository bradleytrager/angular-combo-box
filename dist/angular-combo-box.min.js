function comboBoxController(a,b,c){function d(b){a.isOtherSelected=f(b),e(b)&&(a.selected={value:""})}function e(a){var b=void 0===a||null===a||""===a.value;return b}function f(a){return!e(a)&&"other"===a.value}function g(d){a.isOtherSelected=f(d),e(d)?a.comboModel=null:a.isOtherSelected?(a.comboModel={value:"other",text:a.otherText},c(function(){b.find("input")[0].focus()})):a.comboModel=d}a.setModelFromInput=g,a.isOtherSelected=!1,a.otherText=null,a.comboModel&&d(a.comboModel),a.$watch("comboModel",function(a){var c=document.activeElement!=b.find("input")[0];c&&d(a)})}angular.module("ngComboBox.controller",[]).controller("comboBoxController",["$scope","$element","$timeout","$filter",comboBoxController]),angular.module("ngComboBox.directive",[]).directive("comboBox",function(){return{restrict:"E",scope:{options:"=",comboModel:"=",label:"@?",inputClass:"=",selectClass:"="},templateUrl:"combo-box.html",compile:function(a,b){b.otherLabel||(b.otherLabel="Other"),b.label||(b.label="")},controller:"comboBoxController"}}),angular.module("ngComboBox",["ngComboBox.directive","ngComboBox.controller","templates-main"]),angular.module("templates-main",["combo-box.html"]),angular.module("combo-box.html",[]).run(["$templateCache",function(a){a.put("combo-box.html",'<select ng-model="selected" ng-class="selectClass" ng-change="setModelFromInput(selected)"  ng-options="option.text for option in options" >\n    <option value="">{{label}}</option>\n</select>\n<br />\n<input type="text" placeholder="Other" ng-model="otherText" ng-class="inputClass" ng-change="setModelFromInput(selected)" ng-show="isOtherSelected" />\n')}]);