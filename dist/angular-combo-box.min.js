function comboBoxController(a,b,c){function d(c){null===c?(a.selected="",a.other=""):-1!==a.options.indexOf(c)&&document.activeElement!=b.find("input")[0]?a.selected=c:(a.selected="other",a.other=c)}function e(d){""===d?(a.other="",a.comboModel=null):"other"!==d?(a.other="",a.comboModel=d):(a.comboModel=a.other,c(function(){b.find("input")[0].focus()}))}a.optionChanged=e,a.comboModel&&d(a.comboModel),a.$watch("comboModel",function(a){d(a)})}angular.module("ngComboBox",["templates-main"]).directive("comboBox",function(){return{restrict:"E",scope:{options:"=",comboModel:"=",otherLabel:"@?",label:"@?"},templateUrl:"combo-box.html",compile:function(a,b){b.otherLabel||(b.otherLabel="Other"),b.label||(b.label="")},controller:"comboBoxController"}}).controller("comboBoxController",["$scope","$element","$timeout",comboBoxController]),angular.module("templates-main",["combo-box.html"]),angular.module("combo-box.html",[]).run(["$templateCache",function(a){a.put("combo-box.html",'<select ng-model="selected" ng-change="optionChanged(selected)">\n    <option value="">{{label}}</option>\n    <option ng-repeat="option in options">{{option}}</option>\n    <option value="other" ng-bind="otherLabel"></option>\n</select>\n<br />\n<input type="text" ng-model="other" ng-change="optionChanged(selected)" ng-show="selected === \'other\'" />\n')}]);